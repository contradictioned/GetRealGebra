function prepareExamples() {
    for (var a = document.getElementById("quicktips").getElementsByTagName("code"), b = 0; b < a.length; b++) a[b].onclick = insertExample;
}

function insertExample() {
    var a = this.innerHTML.replace("&lt;", "<");
    a = a.replace("&gt;", ">"), document.getElementById("input").value = a, document.getElementById("input").scrollIntoView(!0), 
    execQuery();
}

function execQuery() {
    var a = document.getElementById("input").value;
    document.getElementById("error_output").innerHTML = "", document.getElementById("error_output").classList.add("hidden");
    var b = document.getElementById("result_output").getElementsByTagName("table");
    if (b.length > 0 && b[0].remove(), "" !== a) {
        try {
            result = QueryParser.parse(a);
        } catch (c) {
            document.getElementById("error_output").innerHTML = c, document.getElementById("error_output").classList.remove("hidden");
        }
        result.exec();
        var d = build_table(result.result);
        document.getElementById("result_output").appendChild(d);
    }
}

function buildRelation(a) {
    a.classList.add("hidden");
    for (var b = a.getElementsByTagName("caption")[0].innerHTML, c = a.getElementsByTagName("thead")[0].getElementsByTagName("th"), d = [], e = 0; e < c.length; e++) d.push(c[e].innerHTML);
    var f = document.createElement("ul"), g = document.createElement("li"), h = document.createElement("strong");
    for (h.innerHTML = b, g.appendChild(h), f.appendChild(g), e = 0; e < d.length; e++) {
        var g = document.createElement("li");
        g.innerHTML = d[e], f.appendChild(g);
    }
    document.getElementsByClassName("relation_digest")[0].appendChild(f);
}

function prepareDigest() {
    for (var a = document.getElementsByClassName("relation"), b = 0; b < a.length; b++) buildRelation(a[b]);
}

function build_table(a) {
    var b = document.createElement("table");
    b.classList.add("relation");
    var c = document.createElement("caption");
    c.innerHTML = void 0 == a.name ? "RESULT" : a.name, b.appendChild(c), fillTableHeader(b, a.attributes);
    var d = document.createElement("tbody");
    b.appendChild(d);
    for (var e = 0; e < a.tuples.length; e++) {
        var f = createRow(a.tuples[e], a.attributes);
        d.appendChild(f);
    }
    return b;
}

function fillTableHeader(a, b) {
    var c = document.createElement("thead"), d = document.createElement("tr");
    c.appendChild(d);
    for (var e = 0; e < b.length; e++) {
        var f = document.createElement("th");
        f.innerHTML = attrToString(b[e]), d.appendChild(f);
    }
    a.appendChild(c);
}

function createRow(a, b) {
    for (var c = document.createElement("tr"), d = 0; d < b.length; d++) {
        var e = document.createElement("td");
        e.innerHTML = a.values[d], c.appendChild(e);
    }
    return c;
}

function attrToString(a) {
    return void 0 === a[0] ? a[1] : a[0] + "." + a[1];
}

GR = {}, window.onload = function() {
    prepareExamples(), prepareDigest(), document.getElementById("input").onkeypress = function(a) {
        a || (a = window.event);
        var b = a.keyCode || a.which;
        "13" == b && execQuery();
    };
}, QueryParser = function() {
    function a(a, b) {
        function c() {
            this.constructor = a;
        }
        c.prototype = b.prototype, a.prototype = new c();
    }
    function b(a, b, c, d, e, f) {
        this.message = a, this.expected = b, this.found = c, this.offset = d, this.line = e, 
        this.column = f, this.name = "SyntaxError";
    }
    function c(a) {
        function c(b) {
            function c(b, c, d) {
                var e, f;
                for (e = c; d > e; e++) f = a.charAt(e), "\n" === f ? (b.seenCR || b.line++, b.column = 1, 
                b.seenCR = !1) : "\r" === f || "\u2028" === f || "\u2029" === f ? (b.line++, b.column = 1, 
                b.seenCR = !0) : (b.column++, b.seenCR = !1);
            }
            return bb !== b && (bb > b && (bb = 0, cb = {
                line: 1,
                column: 1,
                seenCR: !1
            }), c(cb, bb, b), bb = b), cb;
        }
        function d(a) {
            db > _a || (_a > db && (db = _a, eb = []), eb.push(a));
        }
        function e(d, e, f) {
            function g(a) {
                var b = 1;
                for (a.sort(function(a, b) {
                    return a.description < b.description ? -1 : a.description > b.description ? 1 : 0;
                }); b < a.length; ) a[b - 1] === a[b] ? a.splice(b, 1) : b++;
            }
            function h(a, b) {
                function c(a) {
                    function b(a) {
                        return a.charCodeAt(0).toString(16).toUpperCase();
                    }
                    return a.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\x08/g, "\\b").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\f/g, "\\f").replace(/\r/g, "\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g, function(a) {
                        return "\\x0" + b(a);
                    }).replace(/[\x10-\x1F\x80-\xFF]/g, function(a) {
                        return "\\x" + b(a);
                    }).replace(/[\u0180-\u0FFF]/g, function(a) {
                        return "\\u0" + b(a);
                    }).replace(/[\u1080-\uFFFF]/g, function(a) {
                        return "\\u" + b(a);
                    });
                }
                var d, e, f, g = new Array(a.length);
                for (f = 0; f < a.length; f++) g[f] = a[f].description;
                return d = a.length > 1 ? g.slice(0, -1).join(", ") + " or " + g[a.length - 1] : g[0], 
                e = b ? '"' + c(b) + '"' : "end of input", "Expected " + d + " but " + e + " found.";
            }
            var i = c(f), j = f < a.length ? a.charAt(f) : null;
            return null !== e && g(e), new b(null !== d ? d : h(e, j), e, j, f, i.line, i.column);
        }
        function f() {
            var a, b = 20 * _a + 0, c = gb[b];
            return c ? (_a = c.nextPos, c.result) : (a = g(), gb[b] = {
                nextPos: _a,
                result: a
            }, a);
        }
        function g() {
            var a, b = 20 * _a + 1, c = gb[b];
            return c ? (_a = c.nextPos, c.result) : (a = h(), a === B && (a = k(), a === B && (a = o(), 
            a === B && (a = q(), a === B && (a = r(), a === B && (a = u(), a === B && (a = v(), 
            a === B && (a = w(), a === B && (a = x(), a === B && (a = y()))))))))), gb[b] = {
                nextPos: _a,
                result: a
            }, a);
        }
        function h() {
            var a, b, c = 20 * _a + 2, d = gb[c];
            return d ? (_a = d.nextPos, d.result) : (a = _a, b = i(), b !== B && (ab = a, b = E(b)), 
            a = b, gb[c] = {
                nextPos: _a,
                result: a
            }, a);
        }
        function i() {
            var b, c, e, f = 20 * _a + 3, g = gb[f];
            if (g) return _a = g.nextPos, g.result;
            if (b = _a, c = [], G.test(a.charAt(_a)) ? (e = a.charAt(_a), _a++) : (e = B, 0 === fb && d(H)), 
            e !== B) for (;e !== B; ) c.push(e), G.test(a.charAt(_a)) ? (e = a.charAt(_a), _a++) : (e = B, 
            0 === fb && d(H)); else c = F;
            return c !== B && (ab = b, c = I(c)), b = c, gb[f] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function j() {
            var b, c, e, f, g, h = 20 * _a + 4, j = gb[h];
            if (j) return _a = j.nextPos, j.result;
            if (b = _a, c = i(), c !== B) if (46 === a.charCodeAt(_a) ? (e = J, _a++) : (e = B, 
            0 === fb && d(K)), e !== B) {
                if (f = [], G.test(a.charAt(_a)) ? (g = a.charAt(_a), _a++) : (g = B, 0 === fb && d(H)), 
                g !== B) for (;g !== B; ) f.push(g), G.test(a.charAt(_a)) ? (g = a.charAt(_a), _a++) : (g = B, 
                0 === fb && d(H)); else f = F;
                f !== B ? (ab = b, c = L(c, f), b = c) : (_a = b, b = F);
            } else _a = b, b = F; else _a = b, b = F;
            if (b === B) {
                if (b = _a, c = [], G.test(a.charAt(_a)) ? (e = a.charAt(_a), _a++) : (e = B, 0 === fb && d(H)), 
                e !== B) for (;e !== B; ) c.push(e), G.test(a.charAt(_a)) ? (e = a.charAt(_a), _a++) : (e = B, 
                0 === fb && d(H)); else c = F;
                c !== B && (ab = b, c = I(c)), b = c;
            }
            return gb[h] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function k() {
            var b, c, e, f, h, i, j = 20 * _a + 5, k = gb[j];
            return k ? (_a = k.nextPos, k.result) : (b = _a, a.substr(_a, 7) === M ? (c = M, 
            _a += 7) : (c = B, 0 === fb && d(N)), c !== B ? (e = l(), e !== B ? (a.substr(_a, 2) === O ? (f = O, 
            _a += 2) : (f = B, 0 === fb && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_a) ? (i = Q, 
            _a++) : (i = B, 0 === fb && d(R)), i !== B ? (ab = b, c = S(e, h), b = c) : (_a = b, 
            b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F), 
            gb[j] = {
                nextPos: _a,
                result: b
            }, b);
        }
        function l() {
            var b, c, e, f, g, h, i = 20 * _a + 6, j = gb[i];
            if (j) return _a = j.nextPos, j.result;
            if (b = _a, c = n(), c !== B) {
                for (e = [], T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U));
                if (e !== B) if (f = m(), f !== B) {
                    for (g = [], T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U));
                    g !== B ? (h = n(), h !== B ? (ab = b, c = V(c, f, h), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F;
            return gb[i] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function m() {
            var b, c = 20 * _a + 7, e = gb[c];
            return e ? (_a = e.nextPos, e.result) : (a.substr(_a, 2) === W ? (b = W, _a += 2) : (b = B, 
            0 === fb && d(X)), b === B && (a.substr(_a, 2) === Y ? (b = Y, _a += 2) : (b = B, 
            0 === fb && d(Z)), b === B && (a.substr(_a, 2) === $ ? (b = $, _a += 2) : (b = B, 
            0 === fb && d(_)), b === B && (a.substr(_a, 2) === aa ? (b = aa, _a += 2) : (b = B, 
            0 === fb && d(ba)), b === B && (60 === a.charCodeAt(_a) ? (b = ca, _a++) : (b = B, 
            0 === fb && d(da)), b === B && (62 === a.charCodeAt(_a) ? (b = ea, _a++) : (b = B, 
            0 === fb && d(fa))))))), gb[c] = {
                nextPos: _a,
                result: b
            }, b);
        }
        function n() {
            var b, c, e, f, g = 20 * _a + 8, h = gb[g];
            if (h) return _a = h.nextPos, h.result;
            if (b = _a, c = j(), c !== B && (ab = b, c = ga(c)), b = c, b === B) {
                if (b = _a, 34 === a.charCodeAt(_a) ? (c = ha, _a++) : (c = B, 0 === fb && d(ia)), 
                c !== B) {
                    if (e = [], ja.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(ka)), 
                    f !== B) for (;f !== B; ) e.push(f), ja.test(a.charAt(_a)) ? (f = a.charAt(_a), 
                    _a++) : (f = B, 0 === fb && d(ka)); else e = F;
                    e !== B ? (34 === a.charCodeAt(_a) ? (f = ha, _a++) : (f = B, 0 === fb && d(ia)), 
                    f !== B ? (ab = b, c = la(e), b = c) : (_a = b, b = F)) : (_a = b, b = F);
                } else _a = b, b = F;
                if (b === B) {
                    if (b = _a, c = [], ma.test(a.charAt(_a)) ? (e = a.charAt(_a), _a++) : (e = B, 0 === fb && d(na)), 
                    e !== B) for (;e !== B; ) c.push(e), ma.test(a.charAt(_a)) ? (e = a.charAt(_a), 
                    _a++) : (e = B, 0 === fb && d(na)); else c = F;
                    c !== B && (ab = b, c = oa(c)), b = c;
                }
            }
            return gb[g] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function o() {
            var b, c, e, f, h, i, j = 20 * _a + 9, k = gb[j];
            return k ? (_a = k.nextPos, k.result) : (b = _a, a.substr(_a, 4) === pa ? (c = pa, 
            _a += 4) : (c = B, 0 === fb && d(qa)), c !== B ? (e = p(), e !== B ? (a.substr(_a, 2) === O ? (f = O, 
            _a += 2) : (f = B, 0 === fb && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_a) ? (i = Q, 
            _a++) : (i = B, 0 === fb && d(R)), i !== B ? (ab = b, c = ra(e, h), b = c) : (_a = b, 
            b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F), 
            gb[j] = {
                nextPos: _a,
                result: b
            }, b);
        }
        function p() {
            var b, c, e, f, g, h, i = 20 * _a + 10, k = gb[i];
            if (k) return _a = k.nextPos, k.result;
            if (b = _a, c = j(), c !== B) {
                for (e = [], T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U));
                if (e !== B) if (44 === a.charCodeAt(_a) ? (f = sa, _a++) : (f = B, 0 === fb && d(ta)), 
                f !== B) {
                    for (g = [], T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U));
                    g !== B ? (h = p(), h !== B ? (ab = b, c = ua(c, h), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F;
            return b === B && (b = _a, c = j(), c !== B && (ab = b, c = va(c)), b = c), gb[i] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function q() {
            var b, c, e, f, h, j, k = 20 * _a + 11, l = gb[k];
            return l ? (_a = l.nextPos, l.result) : (b = _a, a.substr(_a, 5) === wa ? (c = wa, 
            _a += 5) : (c = B, 0 === fb && d(xa)), c !== B ? (e = i(), e !== B ? (a.substr(_a, 2) === O ? (f = O, 
            _a += 2) : (f = B, 0 === fb && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_a) ? (j = Q, 
            _a++) : (j = B, 0 === fb && d(R)), j !== B ? (ab = b, c = ya(e, h), b = c) : (_a = b, 
            b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F), 
            gb[k] = {
                nextPos: _a,
                result: b
            }, b);
        }
        function r() {
            var b, c, e, f, h, i, j = 20 * _a + 12, k = gb[j];
            return k ? (_a = k.nextPos, k.result) : (b = _a, a.substr(_a, 5) === wa ? (c = wa, 
            _a += 5) : (c = B, 0 === fb && d(xa)), c !== B ? (e = s(), e !== B ? (a.substr(_a, 2) === O ? (f = O, 
            _a += 2) : (f = B, 0 === fb && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_a) ? (i = Q, 
            _a++) : (i = B, 0 === fb && d(R)), i !== B ? (ab = b, c = za(e, h), b = c) : (_a = b, 
            b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F)) : (_a = b, b = F), 
            gb[j] = {
                nextPos: _a,
                result: b
            }, b);
        }
        function s() {
            var b, c, e, f, g, h, i = 20 * _a + 13, j = gb[i];
            if (j) return _a = j.nextPos, j.result;
            if (b = _a, c = t(), c !== B) {
                for (e = [], T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U));
                if (e !== B) if (44 === a.charCodeAt(_a) ? (f = sa, _a++) : (f = B, 0 === fb && d(ta)), 
                f !== B) {
                    for (g = [], T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U));
                    g !== B ? (h = s(), h !== B ? (ab = b, c = Aa(c, h), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F;
            return b === B && (b = _a, c = t(), c !== B && (ab = b, c = Ba(c)), b = c), gb[i] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function t() {
            var b, c, e, f, g, h, k = 20 * _a + 14, l = gb[k];
            if (l) return _a = l.nextPos, l.result;
            if (b = _a, c = j(), c !== B) {
                for (e = [], T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_a)) ? (f = a.charAt(_a), _a++) : (f = B, 0 === fb && d(U));
                if (e !== B) if (a.substr(_a, 2) === Ca ? (f = Ca, _a += 2) : (f = B, 0 === fb && d(Da)), 
                f !== B) {
                    for (g = [], T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_a)) ? (h = a.charAt(_a), _a++) : (h = B, 0 === fb && d(U));
                    g !== B ? (h = j(), h !== B ? (ab = b, c = Ea(c, h), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F;
            return b === B && (b = i()), gb[k] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function u() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _a + 15, o = gb[n];
            if (o) return _a = o.nextPos, o.result;
            if (b = _a, 40 === a.charCodeAt(_a) ? (c = Fa, _a++) : (c = B, 0 === fb && d(Ga)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_a) ? (f = Q, _a++) : (f = B, 
            0 === fb && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U));
                if (h !== B) if (a.substr(_a, 6) === Ha ? (i = Ha, _a += 6) : (i = B, 0 === fb && d(Ia)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U));
                    j !== B ? (40 === a.charCodeAt(_a) ? (k = Fa, _a++) : (k = B, 0 === fb && d(Ga)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_a) ? (m = Q, _a++) : (m = B, 
                    0 === fb && d(R)), m !== B ? (ab = b, c = Ja(e, l), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F)) : (_a = b, b = F)) : (_a = b, b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F; else _a = b, b = F; else _a = b, b = F;
            return gb[n] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function v() {
            var b, c, e, f, h, i, j, k, m, n, o, p, q, r, s = 20 * _a + 16, t = gb[s];
            if (t) return _a = t.nextPos, t.result;
            if (b = _a, 40 === a.charCodeAt(_a) ? (c = Fa, _a++) : (c = B, 0 === fb && d(Ga)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_a) ? (f = Q, _a++) : (f = B, 
            0 === fb && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U));
                if (h !== B) if (a.substr(_a, 5) === Ka ? (i = Ka, _a += 5) : (i = B, 0 === fb && d(La)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U));
                    if (j !== B) if (91 === a.charCodeAt(_a) ? (k = Ma, _a++) : (k = B, 0 === fb && d(Na)), 
                    k !== B) if (m = l(), m !== B) if (93 === a.charCodeAt(_a) ? (n = Oa, _a++) : (n = B, 
                    0 === fb && d(Pa)), n !== B) {
                        for (o = [], T.test(a.charAt(_a)) ? (p = a.charAt(_a), _a++) : (p = B, 0 === fb && d(U)); p !== B; ) o.push(p), 
                        T.test(a.charAt(_a)) ? (p = a.charAt(_a), _a++) : (p = B, 0 === fb && d(U));
                        o !== B ? (40 === a.charCodeAt(_a) ? (p = Fa, _a++) : (p = B, 0 === fb && d(Ga)), 
                        p !== B ? (q = g(), q !== B ? (41 === a.charCodeAt(_a) ? (r = Q, _a++) : (r = B, 
                        0 === fb && d(R)), r !== B ? (ab = b, c = Qa(e, m, q), b = c) : (_a = b, b = F)) : (_a = b, 
                        b = F)) : (_a = b, b = F)) : (_a = b, b = F);
                    } else _a = b, b = F; else _a = b, b = F; else _a = b, b = F; else _a = b, b = F;
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F; else _a = b, b = F; else _a = b, b = F;
            if (b === B) if (b = _a, 40 === a.charCodeAt(_a) ? (c = Fa, _a++) : (c = B, 0 === fb && d(Ga)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_a) ? (f = Q, _a++) : (f = B, 
            0 === fb && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U));
                if (h !== B) if (a.substr(_a, 5) === Ka ? (i = Ka, _a += 5) : (i = B, 0 === fb && d(La)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U));
                    j !== B ? (40 === a.charCodeAt(_a) ? (k = Fa, _a++) : (k = B, 0 === fb && d(Ga)), 
                    k !== B ? (m = g(), m !== B ? (41 === a.charCodeAt(_a) ? (n = Q, _a++) : (n = B, 
                    0 === fb && d(R)), n !== B ? (ab = b, c = Ra(e, m), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F)) : (_a = b, b = F)) : (_a = b, b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F; else _a = b, b = F; else _a = b, b = F;
            return gb[s] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function w() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _a + 17, o = gb[n];
            if (o) return _a = o.nextPos, o.result;
            if (b = _a, 40 === a.charCodeAt(_a) ? (c = Fa, _a++) : (c = B, 0 === fb && d(Ga)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_a) ? (f = Q, _a++) : (f = B, 
            0 === fb && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U));
                if (h !== B) if (a.substr(_a, 4) === Sa ? (i = Sa, _a += 4) : (i = B, 0 === fb && d(Ta)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U));
                    j !== B ? (40 === a.charCodeAt(_a) ? (k = Fa, _a++) : (k = B, 0 === fb && d(Ga)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_a) ? (m = Q, _a++) : (m = B, 
                    0 === fb && d(R)), m !== B ? (ab = b, c = Ua(e, l), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F)) : (_a = b, b = F)) : (_a = b, b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F; else _a = b, b = F; else _a = b, b = F;
            return gb[n] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function x() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _a + 18, o = gb[n];
            if (o) return _a = o.nextPos, o.result;
            if (b = _a, 40 === a.charCodeAt(_a) ? (c = Fa, _a++) : (c = B, 0 === fb && d(Ga)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_a) ? (f = Q, _a++) : (f = B, 
            0 === fb && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U));
                if (h !== B) if (a.substr(_a, 4) === Va ? (i = Va, _a += 4) : (i = B, 0 === fb && d(Wa)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U));
                    j !== B ? (40 === a.charCodeAt(_a) ? (k = Fa, _a++) : (k = B, 0 === fb && d(Ga)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_a) ? (m = Q, _a++) : (m = B, 
                    0 === fb && d(R)), m !== B ? (ab = b, c = Xa(e, l), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F)) : (_a = b, b = F)) : (_a = b, b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F; else _a = b, b = F; else _a = b, b = F;
            return gb[n] = {
                nextPos: _a,
                result: b
            }, b;
        }
        function y() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _a + 19, o = gb[n];
            if (o) return _a = o.nextPos, o.result;
            if (b = _a, 40 === a.charCodeAt(_a) ? (c = Fa, _a++) : (c = B, 0 === fb && d(Ga)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_a) ? (f = Q, _a++) : (f = B, 
            0 === fb && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_a)) ? (i = a.charAt(_a), _a++) : (i = B, 0 === fb && d(U));
                if (h !== B) if (45 === a.charCodeAt(_a) ? (i = Ya, _a++) : (i = B, 0 === fb && d(Za)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_a)) ? (k = a.charAt(_a), _a++) : (k = B, 0 === fb && d(U));
                    j !== B ? (40 === a.charCodeAt(_a) ? (k = Fa, _a++) : (k = B, 0 === fb && d(Ga)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_a) ? (m = Q, _a++) : (m = B, 
                    0 === fb && d(R)), m !== B ? (ab = b, c = $a(e, l), b = c) : (_a = b, b = F)) : (_a = b, 
                    b = F)) : (_a = b, b = F)) : (_a = b, b = F);
                } else _a = b, b = F; else _a = b, b = F;
            } else _a = b, b = F; else _a = b, b = F; else _a = b, b = F;
            return gb[n] = {
                nextPos: _a,
                result: b
            }, b;
        }
        var z, A = arguments.length > 1 ? arguments[1] : {}, B = {}, C = {
            start: f
        }, D = f, E = function(a) {
            return new BaseRelation(a);
        }, F = B, G = /^[a-zA-Z_]/, H = {
            type: "class",
            value: "[a-zA-Z_]",
            description: "[a-zA-Z_]"
        }, I = function(a) {
            return a.join("");
        }, J = ".", K = {
            type: "literal",
            value: ".",
            description: '"."'
        }, L = function(a, b) {
            return a + "." + b.join("");
        }, M = "\\sigma[", N = {
            type: "literal",
            value: "\\sigma[",
            description: '"\\\\sigma["'
        }, O = "](", P = {
            type: "literal",
            value: "](",
            description: '"]("'
        }, Q = ")", R = {
            type: "literal",
            value: ")",
            description: '")"'
        }, S = function(a, b) {
            return new Selection(a, b);
        }, T = /^[ ]/, U = {
            type: "class",
            value: "[ ]",
            description: "[ ]"
        }, V = function(a, b, c) {
            return Function("tuple", "return " + a + b + c);
        }, W = "==", X = {
            type: "literal",
            value: "==",
            description: '"=="'
        }, Y = "!=", Z = {
            type: "literal",
            value: "!=",
            description: '"!="'
        }, $ = "<=", _ = {
            type: "literal",
            value: "<=",
            description: '"<="'
        }, aa = ">=", ba = {
            type: "literal",
            value: ">=",
            description: '">="'
        }, ca = "<", da = {
            type: "literal",
            value: "<",
            description: '"<"'
        }, ea = ">", fa = {
            type: "literal",
            value: ">",
            description: '">"'
        }, ga = function(a) {
            return "tuple.get('" + a + "')";
        }, ha = '"', ia = {
            type: "literal",
            value: '"',
            description: '"\\""'
        }, ja = /^[^"]/, ka = {
            type: "class",
            value: '[^"]',
            description: '[^"]'
        }, la = function(a) {
            return '"' + a.join("") + '"';
        }, ma = /^[0-9]/, na = {
            type: "class",
            value: "[0-9]",
            description: "[0-9]"
        }, oa = function(a) {
            return parseInt(a.join(""), 10);
        }, pa = "\\pi[", qa = {
            type: "literal",
            value: "\\pi[",
            description: '"\\\\pi["'
        }, ra = function(a, b) {
            return new Projection(a, b);
        }, sa = ",", ta = {
            type: "literal",
            value: ",",
            description: '","'
        }, ua = function(a, b) {
            return [ a ].concat(b);
        }, va = function(a) {
            return [ a ];
        }, wa = "\\rho[", xa = {
            type: "literal",
            value: "\\rho[",
            description: '"\\\\rho["'
        }, ya = function(a, b) {
            return new RelationRenaming(a, b);
        }, za = function(a, b) {
            return new ColumnRenaming(a, b);
        }, Aa = function(a, b) {
            return [ a ].concat(b);
        }, Ba = function(a) {
            return [ a ];
        }, Ca = "<-", Da = {
            type: "literal",
            value: "<-",
            description: '"<-"'
        }, Ea = function(a, b) {
            return {
                newname: a,
                oldname: b
            };
        }, Fa = "(", Ga = {
            type: "literal",
            value: "(",
            description: '"("'
        }, Ha = "\\times", Ia = {
            type: "literal",
            value: "\\times",
            description: '"\\\\times"'
        }, Ja = function(a, b) {
            return new Cross(a, b);
        }, Ka = "\\join", La = {
            type: "literal",
            value: "\\join",
            description: '"\\\\join"'
        }, Ma = "[", Na = {
            type: "literal",
            value: "[",
            description: '"["'
        }, Oa = "]", Pa = {
            type: "literal",
            value: "]",
            description: '"]"'
        }, Qa = function(a, b, c) {
            return new ThetaJoin(a, c, b);
        }, Ra = function(a, b) {
            return new NaturalJoin(a, b);
        }, Sa = "\\cup", Ta = {
            type: "literal",
            value: "\\cup",
            description: '"\\\\cup"'
        }, Ua = function(a, b) {
            return new Union(a, b);
        }, Va = "\\cap", Wa = {
            type: "literal",
            value: "\\cap",
            description: '"\\\\cap"'
        }, Xa = function(a, b) {
            return new Intersection(a, b);
        }, Ya = "-", Za = {
            type: "literal",
            value: "-",
            description: '"-"'
        }, $a = function(a, b) {
            return new Setminus1(a, b);
        }, _a = 0, ab = 0, bb = 0, cb = {
            line: 1,
            column: 1,
            seenCR: !1
        }, db = 0, eb = [], fb = 0, gb = {};
        if ("startRule" in A) {
            if (!(A.startRule in C)) throw new Error("Can't start parsing from rule \"" + A.startRule + '".');
            D = C[A.startRule];
        }
        if (z = D(), z !== B && _a === a.length) return z;
        throw z !== B && _a < a.length && d({
            type: "end",
            description: "end of input"
        }), e(null, eb, db);
    }
    return a(b, Error), {
        SyntaxError: b,
        parse: c
    };
}();