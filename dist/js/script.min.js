function prepareExamples() {
    for (var a = document.getElementById("quicktips").getElementsByTagName("code"), b = 0; b < a.length; b++) a[b].onclick = insertExample;
}

function insertExample() {
    var a = this.innerHTML.replace("&lt;", "<");
    a = a.replace("&gt;", ">"), document.getElementById("input").value = a, document.getElementById("input").scrollIntoView(!0), 
    execQuery();
}

function execQuery() {
    var a = document.getElementById("input").value;
    document.getElementById("error_output").innerHTML = "", document.getElementById("error_output").classList.add("hidden");
    var b = document.getElementById("result_output").getElementsByTagName("table");
    if (b.length > 0 && b[0].remove(), "" !== a) {
        try {
            result = QueryParser.parse(a);
        } catch (c) {
            document.getElementById("error_output").innerHTML = c, document.getElementById("error_output").classList.remove("hidden");
        }
        result.exec();
        var d = build_table(result.result);
        document.getElementById("result_output").appendChild(d);
    }
}

function buildRelation(a) {
    a.classList.add("hidden");
    for (var b = a.getElementsByTagName("caption")[0].innerHTML, c = a.getElementsByTagName("thead")[0].getElementsByTagName("th"), d = [], e = 0; e < c.length; e++) d.push(c[e].innerHTML);
    var f = document.createElement("ul"), g = document.createElement("li"), h = document.createElement("strong");
    for (h.innerHTML = b, g.appendChild(h), f.appendChild(g), e = 0; e < d.length; e++) {
        var g = document.createElement("li");
        g.innerHTML = d[e], f.appendChild(g);
    }
    document.getElementsByClassName("relation_digest")[0].appendChild(f);
}

function prepareDigest() {
    for (var a = document.getElementsByClassName("relation"), b = 0; b < a.length; b++) buildRelation(a[b]);
}

function build_table(a) {
    var b = document.createElement("table");
    b.classList.add("relation");
    var c = document.createElement("caption");
    c.innerHTML = void 0 == a.name ? "RESULT" : a.name, b.appendChild(c), fillTableHeader(b, a.attributes);
    var d = document.createElement("tbody");
    b.appendChild(d);
    for (var e = 0; e < a.tuples.length; e++) {
        var f = createRow(a.tuples[e], a.attributes);
        d.appendChild(f);
    }
    return b;
}

function fillTableHeader(a, b) {
    var c = document.createElement("thead"), d = document.createElement("tr");
    c.appendChild(d);
    for (var e = 0; e < b.length; e++) {
        var f = document.createElement("th");
        f.innerHTML = attrToString(b[e]), d.appendChild(f);
    }
    a.appendChild(c);
}

function createRow(a, b) {
    for (var c = document.createElement("tr"), d = 0; d < b.length; d++) {
        var e = document.createElement("td");
        e.innerHTML = a.values[d], c.appendChild(e);
    }
    return c;
}

function attrToString(a) {
    return void 0 === a[0] ? a[1] : a[0] + "." + a[1];
}

GR = {}, window.onload = function() {
    prepareExamples(), prepareDigest(), document.getElementById("input").onkeypress = function(a) {
        a || (a = window.event);
        var b = a.keyCode || a.which;
        "13" == b && execQuery();
    };
}, QueryParser = function() {
    function a(a, b) {
        function c() {
            this.constructor = a;
        }
        c.prototype = b.prototype, a.prototype = new c();
    }
    function b(a, b, c, d, e, f) {
        this.message = a, this.expected = b, this.found = c, this.offset = d, this.line = e, 
        this.column = f, this.name = "SyntaxError";
    }
    function c(a) {
        function c(b) {
            function c(b, c, d) {
                var e, f;
                for (e = c; d > e; e++) f = a.charAt(e), "\n" === f ? (b.seenCR || b.line++, b.column = 1, 
                b.seenCR = !1) : "\r" === f || "\u2028" === f || "\u2029" === f ? (b.line++, b.column = 1, 
                b.seenCR = !0) : (b.column++, b.seenCR = !1);
            }
            return bc !== b && (bc > b && (bc = 0, cc = {
                line: 1,
                column: 1,
                seenCR: !1
            }), c(cc, bc, b), bc = b), cc;
        }
        function d(a) {
            dc > _b || (_b > dc && (dc = _b, ec = []), ec.push(a));
        }
        function e(d, e, f) {
            function g(a) {
                var b = 1;
                for (a.sort(function(a, b) {
                    return a.description < b.description ? -1 : a.description > b.description ? 1 : 0;
                }); b < a.length; ) a[b - 1] === a[b] ? a.splice(b, 1) : b++;
            }
            function h(a, b) {
                function c(a) {
                    function b(a) {
                        return a.charCodeAt(0).toString(16).toUpperCase();
                    }
                    return a.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\x08/g, "\\b").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\f/g, "\\f").replace(/\r/g, "\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g, function(a) {
                        return "\\x0" + b(a);
                    }).replace(/[\x10-\x1F\x80-\xFF]/g, function(a) {
                        return "\\x" + b(a);
                    }).replace(/[\u0180-\u0FFF]/g, function(a) {
                        return "\\u0" + b(a);
                    }).replace(/[\u1080-\uFFFF]/g, function(a) {
                        return "\\u" + b(a);
                    });
                }
                var d, e, f, g = new Array(a.length);
                for (f = 0; f < a.length; f++) g[f] = a[f].description;
                return d = a.length > 1 ? g.slice(0, -1).join(", ") + " or " + g[a.length - 1] : g[0], 
                e = b ? '"' + c(b) + '"' : "end of input", "Expected " + d + " but " + e + " found.";
            }
            var i = c(f), j = f < a.length ? a.charAt(f) : null;
            return null !== e && g(e), new b(null !== d ? d : h(e, j), e, j, f, i.line, i.column);
        }
        function f() {
            var a, b = 20 * _b + 0, c = gc[b];
            return c ? (_b = c.nextPos, c.result) : (a = g(), gc[b] = {
                nextPos: _b,
                result: a
            }, a);
        }
        function g() {
            var a, b = 20 * _b + 1, c = gc[b];
            return c ? (_b = c.nextPos, c.result) : (a = h(), a === B && (a = k(), a === B && (a = o(), 
            a === B && (a = q(), a === B && (a = r(), a === B && (a = u(), a === B && (a = v(), 
            a === B && (a = w(), a === B && (a = x(), a === B && (a = y()))))))))), gc[b] = {
                nextPos: _b,
                result: a
            }, a);
        }
        function h() {
            var a, b, c = 20 * _b + 2, d = gc[c];
            return d ? (_b = d.nextPos, d.result) : (a = _b, b = i(), b !== B && (ac = a, b = E(b)), 
            a = b, gc[c] = {
                nextPos: _b,
                result: a
            }, a);
        }
        function i() {
            var b, c, e, f = 20 * _b + 3, g = gc[f];
            if (g) return _b = g.nextPos, g.result;
            if (b = _b, c = [], G.test(a.charAt(_b)) ? (e = a.charAt(_b), _b++) : (e = B, 0 === fc && d(H)), 
            e !== B) for (;e !== B; ) c.push(e), G.test(a.charAt(_b)) ? (e = a.charAt(_b), _b++) : (e = B, 
            0 === fc && d(H)); else c = F;
            return c !== B && (ac = b, c = I(c)), b = c, gc[f] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function j() {
            var b, c, e, f, g, h = 20 * _b + 4, j = gc[h];
            if (j) return _b = j.nextPos, j.result;
            if (b = _b, c = i(), c !== B) if (46 === a.charCodeAt(_b) ? (e = J, _b++) : (e = B, 
            0 === fc && d(K)), e !== B) {
                if (f = [], G.test(a.charAt(_b)) ? (g = a.charAt(_b), _b++) : (g = B, 0 === fc && d(H)), 
                g !== B) for (;g !== B; ) f.push(g), G.test(a.charAt(_b)) ? (g = a.charAt(_b), _b++) : (g = B, 
                0 === fc && d(H)); else f = F;
                f !== B ? (ac = b, c = L(c, f), b = c) : (_b = b, b = F);
            } else _b = b, b = F; else _b = b, b = F;
            if (b === B) {
                if (b = _b, c = [], G.test(a.charAt(_b)) ? (e = a.charAt(_b), _b++) : (e = B, 0 === fc && d(H)), 
                e !== B) for (;e !== B; ) c.push(e), G.test(a.charAt(_b)) ? (e = a.charAt(_b), _b++) : (e = B, 
                0 === fc && d(H)); else c = F;
                c !== B && (ac = b, c = I(c)), b = c;
            }
            return gc[h] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function k() {
            var b, c, e, f, h, i, j = 20 * _b + 5, k = gc[j];
            return k ? (_b = k.nextPos, k.result) : (b = _b, a.substr(_b, 7) === M ? (c = M, 
            _b += 7) : (c = B, 0 === fc && d(N)), c !== B ? (e = l(), e !== B ? (a.substr(_b, 2) === O ? (f = O, 
            _b += 2) : (f = B, 0 === fc && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_b) ? (i = Q, 
            _b++) : (i = B, 0 === fc && d(R)), i !== B ? (ac = b, c = S(e, h), b = c) : (_b = b, 
            b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F), 
            gc[j] = {
                nextPos: _b,
                result: b
            }, b);
        }
        function l() {
            var b, c, e, f, g, h, i = 20 * _b + 6, j = gc[i];
            if (j) return _b = j.nextPos, j.result;
            if (b = _b, c = n(), c !== B) {
                for (e = [], T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U));
                if (e !== B) if (f = m(), f !== B) {
                    for (g = [], T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U));
                    g !== B ? (h = n(), h !== B ? (ac = b, c = V(c, f, h), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F;
            return gc[i] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function m() {
            var b, c = 20 * _b + 7, e = gc[c];
            return e ? (_b = e.nextPos, e.result) : (a.substr(_b, 2) === W ? (b = W, _b += 2) : (b = B, 
            0 === fc && d(X)), b === B && (a.substr(_b, 2) === Y ? (b = Y, _b += 2) : (b = B, 
            0 === fc && d(Z)), b === B && (a.substr(_b, 2) === $ ? (b = $, _b += 2) : (b = B, 
            0 === fc && d(_)), b === B && (a.substr(_b, 2) === ab ? (b = ab, _b += 2) : (b = B, 
            0 === fc && d(bb)), b === B && (60 === a.charCodeAt(_b) ? (b = cb, _b++) : (b = B, 
            0 === fc && d(db)), b === B && (62 === a.charCodeAt(_b) ? (b = eb, _b++) : (b = B, 
            0 === fc && d(fb))))))), gc[c] = {
                nextPos: _b,
                result: b
            }, b);
        }
        function n() {
            var b, c, e, f, g = 20 * _b + 8, h = gc[g];
            if (h) return _b = h.nextPos, h.result;
            if (b = _b, c = j(), c !== B && (ac = b, c = gb(c)), b = c, b === B) {
                if (b = _b, 34 === a.charCodeAt(_b) ? (c = hb, _b++) : (c = B, 0 === fc && d(ib)), 
                c !== B) {
                    if (e = [], jb.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(kb)), 
                    f !== B) for (;f !== B; ) e.push(f), jb.test(a.charAt(_b)) ? (f = a.charAt(_b), 
                    _b++) : (f = B, 0 === fc && d(kb)); else e = F;
                    e !== B ? (34 === a.charCodeAt(_b) ? (f = hb, _b++) : (f = B, 0 === fc && d(ib)), 
                    f !== B ? (ac = b, c = lb(e), b = c) : (_b = b, b = F)) : (_b = b, b = F);
                } else _b = b, b = F;
                if (b === B) {
                    if (b = _b, c = [], mb.test(a.charAt(_b)) ? (e = a.charAt(_b), _b++) : (e = B, 0 === fc && d(nb)), 
                    e !== B) for (;e !== B; ) c.push(e), mb.test(a.charAt(_b)) ? (e = a.charAt(_b), 
                    _b++) : (e = B, 0 === fc && d(nb)); else c = F;
                    c !== B && (ac = b, c = ob(c)), b = c;
                }
            }
            return gc[g] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function o() {
            var b, c, e, f, h, i, j = 20 * _b + 9, k = gc[j];
            return k ? (_b = k.nextPos, k.result) : (b = _b, a.substr(_b, 4) === pb ? (c = pb, 
            _b += 4) : (c = B, 0 === fc && d(qb)), c !== B ? (e = p(), e !== B ? (a.substr(_b, 2) === O ? (f = O, 
            _b += 2) : (f = B, 0 === fc && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_b) ? (i = Q, 
            _b++) : (i = B, 0 === fc && d(R)), i !== B ? (ac = b, c = rb(e, h), b = c) : (_b = b, 
            b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F), 
            gc[j] = {
                nextPos: _b,
                result: b
            }, b);
        }
        function p() {
            var b, c, e, f, g, h, i = 20 * _b + 10, k = gc[i];
            if (k) return _b = k.nextPos, k.result;
            if (b = _b, c = j(), c !== B) {
                for (e = [], T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U));
                if (e !== B) if (44 === a.charCodeAt(_b) ? (f = sb, _b++) : (f = B, 0 === fc && d(tb)), 
                f !== B) {
                    for (g = [], T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U));
                    g !== B ? (h = p(), h !== B ? (ac = b, c = ub(c, h), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F;
            return b === B && (b = _b, c = j(), c !== B && (ac = b, c = vb(c)), b = c), gc[i] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function q() {
            var b, c, e, f, h, j, k = 20 * _b + 11, l = gc[k];
            return l ? (_b = l.nextPos, l.result) : (b = _b, a.substr(_b, 5) === wb ? (c = wb, 
            _b += 5) : (c = B, 0 === fc && d(xb)), c !== B ? (e = i(), e !== B ? (a.substr(_b, 2) === O ? (f = O, 
            _b += 2) : (f = B, 0 === fc && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_b) ? (j = Q, 
            _b++) : (j = B, 0 === fc && d(R)), j !== B ? (ac = b, c = yb(e, h), b = c) : (_b = b, 
            b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F), 
            gc[k] = {
                nextPos: _b,
                result: b
            }, b);
        }
        function r() {
            var b, c, e, f, h, i, j = 20 * _b + 12, k = gc[j];
            return k ? (_b = k.nextPos, k.result) : (b = _b, a.substr(_b, 5) === wb ? (c = wb, 
            _b += 5) : (c = B, 0 === fc && d(xb)), c !== B ? (e = s(), e !== B ? (a.substr(_b, 2) === O ? (f = O, 
            _b += 2) : (f = B, 0 === fc && d(P)), f !== B ? (h = g(), h !== B ? (41 === a.charCodeAt(_b) ? (i = Q, 
            _b++) : (i = B, 0 === fc && d(R)), i !== B ? (ac = b, c = zb(e, h), b = c) : (_b = b, 
            b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F)) : (_b = b, b = F), 
            gc[j] = {
                nextPos: _b,
                result: b
            }, b);
        }
        function s() {
            var b, c, e, f, g, h, i = 20 * _b + 13, j = gc[i];
            if (j) return _b = j.nextPos, j.result;
            if (b = _b, c = t(), c !== B) {
                for (e = [], T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U));
                if (e !== B) if (44 === a.charCodeAt(_b) ? (f = sb, _b++) : (f = B, 0 === fc && d(tb)), 
                f !== B) {
                    for (g = [], T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U));
                    g !== B ? (h = s(), h !== B ? (ac = b, c = Ab(c, h), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F;
            return b === B && (b = _b, c = t(), c !== B && (ac = b, c = Bb(c)), b = c), gc[i] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function t() {
            var b, c, e, f, g, h, k = 20 * _b + 14, l = gc[k];
            if (l) return _b = l.nextPos, l.result;
            if (b = _b, c = j(), c !== B) {
                for (e = [], T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U)); f !== B; ) e.push(f), 
                T.test(a.charAt(_b)) ? (f = a.charAt(_b), _b++) : (f = B, 0 === fc && d(U));
                if (e !== B) if (a.substr(_b, 2) === Cb ? (f = Cb, _b += 2) : (f = B, 0 === fc && d(Db)), 
                f !== B) {
                    for (g = [], T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U)); h !== B; ) g.push(h), 
                    T.test(a.charAt(_b)) ? (h = a.charAt(_b), _b++) : (h = B, 0 === fc && d(U));
                    g !== B ? (h = j(), h !== B ? (ac = b, c = Eb(c, h), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F;
            return b === B && (b = i()), gc[k] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function u() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _b + 15, o = gc[n];
            if (o) return _b = o.nextPos, o.result;
            if (b = _b, 40 === a.charCodeAt(_b) ? (c = Fb, _b++) : (c = B, 0 === fc && d(Gb)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_b) ? (f = Q, _b++) : (f = B, 
            0 === fc && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U));
                if (h !== B) if (a.substr(_b, 6) === Hb ? (i = Hb, _b += 6) : (i = B, 0 === fc && d(Ib)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U));
                    j !== B ? (40 === a.charCodeAt(_b) ? (k = Fb, _b++) : (k = B, 0 === fc && d(Gb)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_b) ? (m = Q, _b++) : (m = B, 
                    0 === fc && d(R)), m !== B ? (ac = b, c = Jb(e, l), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F)) : (_b = b, b = F)) : (_b = b, b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F; else _b = b, b = F; else _b = b, b = F;
            return gc[n] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function v() {
            var b, c, e, f, h, i, j, k, m, n, o, p, q, r, s = 20 * _b + 16, t = gc[s];
            if (t) return _b = t.nextPos, t.result;
            if (b = _b, 40 === a.charCodeAt(_b) ? (c = Fb, _b++) : (c = B, 0 === fc && d(Gb)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_b) ? (f = Q, _b++) : (f = B, 
            0 === fc && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U));
                if (h !== B) if (a.substr(_b, 5) === Kb ? (i = Kb, _b += 5) : (i = B, 0 === fc && d(Lb)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U));
                    if (j !== B) if (91 === a.charCodeAt(_b) ? (k = Mb, _b++) : (k = B, 0 === fc && d(Nb)), 
                    k !== B) if (m = l(), m !== B) if (93 === a.charCodeAt(_b) ? (n = Ob, _b++) : (n = B, 
                    0 === fc && d(Pb)), n !== B) {
                        for (o = [], T.test(a.charAt(_b)) ? (p = a.charAt(_b), _b++) : (p = B, 0 === fc && d(U)); p !== B; ) o.push(p), 
                        T.test(a.charAt(_b)) ? (p = a.charAt(_b), _b++) : (p = B, 0 === fc && d(U));
                        o !== B ? (40 === a.charCodeAt(_b) ? (p = Fb, _b++) : (p = B, 0 === fc && d(Gb)), 
                        p !== B ? (q = g(), q !== B ? (41 === a.charCodeAt(_b) ? (r = Q, _b++) : (r = B, 
                        0 === fc && d(R)), r !== B ? (ac = b, c = Qb(e, m, q), b = c) : (_b = b, b = F)) : (_b = b, 
                        b = F)) : (_b = b, b = F)) : (_b = b, b = F);
                    } else _b = b, b = F; else _b = b, b = F; else _b = b, b = F; else _b = b, b = F;
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F; else _b = b, b = F; else _b = b, b = F;
            if (b === B) if (b = _b, 40 === a.charCodeAt(_b) ? (c = Fb, _b++) : (c = B, 0 === fc && d(Gb)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_b) ? (f = Q, _b++) : (f = B, 
            0 === fc && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U));
                if (h !== B) if (a.substr(_b, 5) === Kb ? (i = Kb, _b += 5) : (i = B, 0 === fc && d(Lb)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U));
                    j !== B ? (40 === a.charCodeAt(_b) ? (k = Fb, _b++) : (k = B, 0 === fc && d(Gb)), 
                    k !== B ? (m = g(), m !== B ? (41 === a.charCodeAt(_b) ? (n = Q, _b++) : (n = B, 
                    0 === fc && d(R)), n !== B ? (ac = b, c = Rb(e, m), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F)) : (_b = b, b = F)) : (_b = b, b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F; else _b = b, b = F; else _b = b, b = F;
            return gc[s] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function w() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _b + 17, o = gc[n];
            if (o) return _b = o.nextPos, o.result;
            if (b = _b, 40 === a.charCodeAt(_b) ? (c = Fb, _b++) : (c = B, 0 === fc && d(Gb)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_b) ? (f = Q, _b++) : (f = B, 
            0 === fc && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U));
                if (h !== B) if (a.substr(_b, 4) === Sb ? (i = Sb, _b += 4) : (i = B, 0 === fc && d(Tb)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U));
                    j !== B ? (40 === a.charCodeAt(_b) ? (k = Fb, _b++) : (k = B, 0 === fc && d(Gb)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_b) ? (m = Q, _b++) : (m = B, 
                    0 === fc && d(R)), m !== B ? (ac = b, c = Ub(e, l), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F)) : (_b = b, b = F)) : (_b = b, b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F; else _b = b, b = F; else _b = b, b = F;
            return gc[n] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function x() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _b + 18, o = gc[n];
            if (o) return _b = o.nextPos, o.result;
            if (b = _b, 40 === a.charCodeAt(_b) ? (c = Fb, _b++) : (c = B, 0 === fc && d(Gb)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_b) ? (f = Q, _b++) : (f = B, 
            0 === fc && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U));
                if (h !== B) if (a.substr(_b, 4) === Vb ? (i = Vb, _b += 4) : (i = B, 0 === fc && d(Wb)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U));
                    j !== B ? (40 === a.charCodeAt(_b) ? (k = Fb, _b++) : (k = B, 0 === fc && d(Gb)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_b) ? (m = Q, _b++) : (m = B, 
                    0 === fc && d(R)), m !== B ? (ac = b, c = Xb(e, l), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F)) : (_b = b, b = F)) : (_b = b, b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F; else _b = b, b = F; else _b = b, b = F;
            return gc[n] = {
                nextPos: _b,
                result: b
            }, b;
        }
        function y() {
            var b, c, e, f, h, i, j, k, l, m, n = 20 * _b + 19, o = gc[n];
            if (o) return _b = o.nextPos, o.result;
            if (b = _b, 40 === a.charCodeAt(_b) ? (c = Fb, _b++) : (c = B, 0 === fc && d(Gb)), 
            c !== B) if (e = g(), e !== B) if (41 === a.charCodeAt(_b) ? (f = Q, _b++) : (f = B, 
            0 === fc && d(R)), f !== B) {
                for (h = [], T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U)); i !== B; ) h.push(i), 
                T.test(a.charAt(_b)) ? (i = a.charAt(_b), _b++) : (i = B, 0 === fc && d(U));
                if (h !== B) if (45 === a.charCodeAt(_b) ? (i = Yb, _b++) : (i = B, 0 === fc && d(Zb)), 
                i !== B) {
                    for (j = [], T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U)); k !== B; ) j.push(k), 
                    T.test(a.charAt(_b)) ? (k = a.charAt(_b), _b++) : (k = B, 0 === fc && d(U));
                    j !== B ? (40 === a.charCodeAt(_b) ? (k = Fb, _b++) : (k = B, 0 === fc && d(Gb)), 
                    k !== B ? (l = g(), l !== B ? (41 === a.charCodeAt(_b) ? (m = Q, _b++) : (m = B, 
                    0 === fc && d(R)), m !== B ? (ac = b, c = $b(e, l), b = c) : (_b = b, b = F)) : (_b = b, 
                    b = F)) : (_b = b, b = F)) : (_b = b, b = F);
                } else _b = b, b = F; else _b = b, b = F;
            } else _b = b, b = F; else _b = b, b = F; else _b = b, b = F;
            return gc[n] = {
                nextPos: _b,
                result: b
            }, b;
        }
        var z, A = arguments.length > 1 ? arguments[1] : {}, B = {}, C = {
            start: f
        }, D = f, E = function(a) {
            return new BaseRelation(a);
        }, F = B, G = /^[a-zA-Z_]/, H = {
            type: "class",
            value: "[a-zA-Z_]",
            description: "[a-zA-Z_]"
        }, I = function(a) {
            return a.join("");
        }, J = ".", K = {
            type: "literal",
            value: ".",
            description: '"."'
        }, L = function(a, b) {
            return a + "." + b.join("");
        }, M = "\\sigma[", N = {
            type: "literal",
            value: "\\sigma[",
            description: '"\\\\sigma["'
        }, O = "](", P = {
            type: "literal",
            value: "](",
            description: '"]("'
        }, Q = ")", R = {
            type: "literal",
            value: ")",
            description: '")"'
        }, S = function(a, b) {
            return new Selection(a, b);
        }, T = /^[ ]/, U = {
            type: "class",
            value: "[ ]",
            description: "[ ]"
        }, V = function(a, b, c) {
            return Function("tuple", "return " + a + b + c);
        }, W = "==", X = {
            type: "literal",
            value: "==",
            description: '"=="'
        }, Y = "!=", Z = {
            type: "literal",
            value: "!=",
            description: '"!="'
        }, $ = "<=", _ = {
            type: "literal",
            value: "<=",
            description: '"<="'
        }, ab = ">=", bb = {
            type: "literal",
            value: ">=",
            description: '">="'
        }, cb = "<", db = {
            type: "literal",
            value: "<",
            description: '"<"'
        }, eb = ">", fb = {
            type: "literal",
            value: ">",
            description: '">"'
        }, gb = function(a) {
            return "tuple.get('" + a + "')";
        }, hb = '"', ib = {
            type: "literal",
            value: '"',
            description: '"\\""'
        }, jb = /^[^"]/, kb = {
            type: "class",
            value: '[^"]',
            description: '[^"]'
        }, lb = function(a) {
            return '"' + a.join("") + '"';
        }, mb = /^[0-9]/, nb = {
            type: "class",
            value: "[0-9]",
            description: "[0-9]"
        }, ob = function(a) {
            return parseInt(a.join(""), 10);
        }, pb = "\\pi[", qb = {
            type: "literal",
            value: "\\pi[",
            description: '"\\\\pi["'
        }, rb = function(a, b) {
            return new Projection(a, b);
        }, sb = ",", tb = {
            type: "literal",
            value: ",",
            description: '","'
        }, ub = function(a, b) {
            return [ a ].concat(b);
        }, vb = function(a) {
            return [ a ];
        }, wb = "\\rho[", xb = {
            type: "literal",
            value: "\\rho[",
            description: '"\\\\rho["'
        }, yb = function(a, b) {
            return new RelationRenaming(a, b);
        }, zb = function(a, b) {
            return new ColumnRenaming(a, b);
        }, Ab = function(a, b) {
            return [ a ].concat(b);
        }, Bb = function(a) {
            return [ a ];
        }, Cb = "<-", Db = {
            type: "literal",
            value: "<-",
            description: '"<-"'
        }, Eb = function(a, b) {
            return {
                newname: a,
                oldname: b
            };
        }, Fb = "(", Gb = {
            type: "literal",
            value: "(",
            description: '"("'
        }, Hb = "\\times", Ib = {
            type: "literal",
            value: "\\times",
            description: '"\\\\times"'
        }, Jb = function(a, b) {
            return new Cross(a, b);
        }, Kb = "\\join", Lb = {
            type: "literal",
            value: "\\join",
            description: '"\\\\join"'
        }, Mb = "[", Nb = {
            type: "literal",
            value: "[",
            description: '"["'
        }, Ob = "]", Pb = {
            type: "literal",
            value: "]",
            description: '"]"'
        }, Qb = function(a, b, c) {
            return new ThetaJoin(a, c, b);
        }, Rb = function(a, b) {
            return new NaturalJoin(a, b);
        }, Sb = "\\cup", Tb = {
            type: "literal",
            value: "\\cup",
            description: '"\\\\cup"'
        }, Ub = function(a, b) {
            return new Union(a, b);
        }, Vb = "\\cap", Wb = {
            type: "literal",
            value: "\\cap",
            description: '"\\\\cap"'
        }, Xb = function(a, b) {
            return new Intersection(a, b);
        }, Yb = "-", Zb = {
            type: "literal",
            value: "-",
            description: '"-"'
        }, $b = function(a, b) {
            return new Setminus1(a, b);
        }, _b = 0, ac = 0, bc = 0, cc = {
            line: 1,
            column: 1,
            seenCR: !1
        }, dc = 0, ec = [], fc = 0, gc = {};
        if ("startRule" in A) {
            if (!(A.startRule in C)) throw new Error("Can't start parsing from rule \"" + A.startRule + '".');
            D = C[A.startRule];
        }
        if (z = D(), z !== B && _b === a.length) return z;
        throw z !== B && _b < a.length && d({
            type: "end",
            description: "end of input"
        }), e(null, ec, dc);
    }
    return a(b, Error), {
        SyntaxError: b,
        parse: c
    };
}();